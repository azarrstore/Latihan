<!DOCTYPE html>
<html>
<head>
  <title>Dashboard Admin - Azarr Store</title>
  <script type="module" src="firebase.js"></script>
</head>
<body>
  <h2>Tambah Deposit</h2>
  <form id="depositForm">
    <input type="text" id="user" placeholder="Nama pengguna" required><br>
    <input type="number" id="amount" placeholder="Jumlah deposit" required><br>
    <button type="submit">Submit Deposit</button>
  </form>

  <h2>Input Order</h2>
  <form id="orderForm">
    <input type="text" id="buyer" placeholder="Nama pembeli" required><br>
    <select id="product">
      <option value="Ram 1GB">Ram 1GB - Rp1.000</option>
      <option value="Ram 2GB">Ram 2GB - Rp2.000</option>
      <!-- lanjutkan sampai Unlimited -->
    </select><br>
    <button type="submit">Submit Order</button>
  </form>

  <script type="module">
    import { db, ref, set, push } from './firebase.js';

    document.getElementById("depositForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const user = document.getElementById("user").value;
      const amount = document.getElementById("amount").value;

      const depositRef = push(ref(db, "deposits"));
      set(depositRef, {
        user: user,
        amount: amount,
        time: new Date().toISOString()
      });

      alert("Deposit ditambahkan!");
    });

    document.getElementById("orderForm").addEventListener("submit", function(e) {
      e.preventDefault();
      const buyer = document.getElementById("buyer").value;
      const product = document.getElementById("product").value;

      const orderRef = push(ref(db, "orders"));
      set(orderRef, {
        buyer: buyer,
        product: product,
        time: new Date().toISOString()
      });

      alert("Order berhasil dikirim!");
    });
  </script>
</body>
</html>
